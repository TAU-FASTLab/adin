version: "3"
services:      
    adin-api:
        image: docker.ramp.eu/shop4cf/adin-api:3.0.0
        container_name: adin-api
        command: bash -c "python manage.py runserver 0.0.0.0:8000"
        ports:
          - "8000:8000"
          
    adin-fe:
        image: docker.ramp.eu/shop4cf/adin-fe:1.3.0
        container_name: adin-fe
        command: npm start
        depends_on:
          - adin-api
          - adin-nh
        ports:
          - "3000:3000"
        expose:
          - "3000"

    adin-nh:
        image: docker.ramp.eu/shop4cf/adin-nh:1.3.0
        container_name: adin-nh
        command: bash -c "python bridge.py runserver"
        depends_on:
          - orion 
        ports:
          - "54100:54100"
          - "8080:8080"
        expose:
            - "54100"
            - "8080"
  
    mongo:
        image: mongo:3.2
        command: --nojournal
        container_name: mongo
        
    orion:
        image: fiware/orion-ld:latest
        links:
            - mongo
        ports:
            - "1026:1026"
        command: -dbhost mongo -logLevel DEBUG -logForHumans
        container_name: orion
        expose:
            - "1026"
        depends_on:
            - mongo
            